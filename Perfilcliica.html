<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fision+ | Perfil da Clínica</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --verde-primario: #3e8e63;
            --verde-secundario: #2d6a4a;
            --verde-suave: #e8f5e9;
            --bg-corpo: #f8f9fa;
            --branco: #ffffff;
            --texto-escuro: #2c3e50;
            --texto-suave: #7f8c8d;
            --shadow: 0 10px 30px rgba(0,0,0,0.08);
            --img-fundo: url("imagem.pjp/Logo- prog WEB.png");
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }

        body {
            background-color: var(--bg-corpo);
            background-image: linear-gradient(rgba(248, 249, 250, 0.97), rgba(248, 249, 250, 0.97)), var(--img-fundo);
            background-size: cover; background-attachment: fixed;
            min-height: 100vh;
        }

        header {
            background: var(--branco); padding: 10px 5%;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .profile-header {
            background: var(--verde-primario);
            height: 140px;
            width: 100%;
            position: relative; 
            margin-bottom: 50px;
        }

        .profile-container {
            max-width: 900px; margin: 0 auto;
            padding: 0 20px; position: relative;
        }

        .profile-avatar {
            width: 100px; height: 100px;
            background: white;
            border-radius: 15px;
            position: absolute;
            bottom: -30px; left: 20px; 
            box-shadow: var(--shadow); display: flex;
            align-items: center; justify-content: center;
            border: 4px solid white;
            z-index: 10;
        }

        .profile-avatar img { width: 85%; height: 85%; object-fit: contain; }

        .profile-main-info {
            padding-left: 120px; padding-top: 25px; color: white;
        }

        .grid-perfil {
            display: grid; grid-template-columns: 1fr 2fr;
            gap: 30px; margin-top: 20px;
        }

        .card-info {
            background: white; padding: 25px;
            border-radius: 15px; box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .card-info h3 {
            font-size: 1.1rem; color: var(--verde-secundario);
            margin-bottom: 15px; border-bottom: 2px solid var(--verde-suave);
            padding-bottom: 8px; display: flex; align-items: center; gap: 10px;
        }

        .info-item { margin-bottom: 15px; }
        .info-item label { font-size: 0.75rem; color: var(--texto-suave); font-weight: bold; text-transform: uppercase; }
        .info-item p { color: var(--texto-escuro); font-weight: 500; font-size: 1rem; }

        .edit-input {
            width: 100%; padding: 8px; border: 1px solid #ddd;
            border-radius: 6px; display: none; margin-top: 5px;
            font-size: 0.95rem; font-family: inherit;
        }

        .badge-status {
            background: #27ae60; color: white;
            padding: 4px 12px; border-radius: 20px;
            font-size: 0.8rem; font-weight: bold;
        }

        .btn-edit-perfil {
            background: var(--verde-primario); color: white;
            border: none; padding: 10px 20px; border-radius: 8px;
            font-weight: bold; display: inline-flex; align-items: center;
            gap: 10px; transition: 0.3s; cursor: pointer; text-decoration: none;
        }

        .btn-edit-perfil:hover { background: var(--verde-secundario); transform: translateY(-2px); }

        @media (max-width: 768px) {
            .grid-perfil { grid-template-columns: 1fr; }
            
            .profile-header { height: 100px; }
            
            .profile-avatar { 
                width: 80px; height: 80px;
                left: 15px; bottom: -25px;
                transform: none;
            }
            
            .profile-main-info { 
                padding-left: 100px;
                padding-top: 15px; 
                text-align: left;
            }

            .profile-main-info h1 { font-size: 1.2rem; }
        }
    </style>
</head>
<body>

    <header>
        <a href="telainicial.html" style="text-decoration: none; color: var(--verde-primario); font-weight: bold;">
            <i class="fas fa-arrow-left"></i> Voltar ao Painel
        </a>
        <div style="font-weight: bold; color: var(--texto-suave);">PERFIL CORPORATIVO</div>
    </header>

    <section class="profile-header">
        <div class="profile-container">
            <div class="profile-avatar">
                <img src="Logo.png" alt="Logo Clínica">
            </div>
            <div class="profile-main-info">
                <h1 id="viewClinicaNome">Nome da Clínica</h1>
                <input type="text" id="editNome" class="edit-input" style="font-size: 1.5rem; color: #333;">
                <p><i class="fas fa-check-circle"></i> Verificada <span class="badge-status">Ativa</span></p>
            </div>
        </div>
    </section>

    <main class="profile-container">
        <div class="grid-perfil">
            <aside>
                <div class="card-info">
                    <h3><i class="fas fa-address-book"></i> Contato</h3>
                    <div class="info-item">
                        <label>WhatsApp / Telefone</label>
                        <p id="viewClinicaTel">---</p>
                        <input type="text" id="editTel" class="edit-input">
                    </div>
                    <div class="info-item">
                        <label>E-mail Oficial</label>
                        <p id="viewClinicaEmail">---</p>
                        <input type="email" id="editEmail" class="edit-input">
                    </div>
                    <div class="info-item">
                        <label>CNPJ</label>
                        <p id="viewClinicaCnpj">---</p>
                        <input type="text" id="editCnpj" class="edit-input">
                    </div>
                </div>

                <div class="card-info">
                    <h3><i class="fas fa-share-alt"></i> Redes Digitais</h3>
                    <div style="display: flex; gap: 15px; font-size: 1.5rem; color: var(--verde-primario);">
                        <i class="fab fa-instagram"></i>
                        <i class="fab fa-facebook"></i>
                        <i class="fab fa-linkedin"></i>
                    </div>
                </div>
            </aside>

            <section>
                <div class="card-info">
                    <h3><i class="fas fa-map-marker-alt"></i> Localização Detalhada</h3>
                    <div class="info-item">
                        <label>Logradouro (Rua e Número)</label>
                        <p id="viewClinicaEnd">---</p>
                        <input type="text" id="editEnd" class="edit-input">
                    </div>
                    <div class="info-item">
                        <label>Bairro</label>
                        <p id="viewClinicaBairro">---</p>
                        <input type="text" id="editBairro" class="edit-input">
                    </div>
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 10px;">
                        <div class="info-item">
                            <label>Cidade</label>
                            <p id="viewClinicaCidade">---</p>
                            <input type="text" id="editCidade" class="edit-input">
                        </div>
                        <div class="info-item">
                            <label>UF</label>
                            <p id="viewClinicaUF">---</p>
                            <input type="text" id="editUF" class="edit-input" maxlength="2">
                        </div>
                    </div>
                    <div class="info-item">
                        <label>CEP</label>
                        <p id="viewClinicaCep">---</p>
                        <input type="text" id="editCep" class="edit-input">
                    </div>
                </div>

                <div class="card-info">
                    <h3><i class="fas fa-info-circle"></i> Gestão do Perfil</h3>
                    <p style="color: var(--texto-suave); line-height: 1.6; margin-bottom: 20px;">
                        Mantenha os dados da unidade atualizados para garantir a precisão nos relatórios e documentos.
                    </p>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn-edit-perfil" id="btnAcaoPerfil" onclick="toggleEdicaoPerfil()">
                            <i class="fas fa-edit"></i> Editar Perfil
                        </button>
                        <button class="btn-edit-perfil" style="background: #4285F4;" onclick="abrirGoogleMaps()">
                            <i class="fas fa-map-marked-alt"></i> Google Maps
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script>
        let modoEdicao = false;
        const campos = [
            { txt: 'viewClinicaNome', input: 'editNome', chave: 'nome' },
            { txt: 'viewClinicaTel', input: 'editTel', chave: 'tel' },
            { txt: 'viewClinicaEmail', input: 'editEmail', chave: 'email' },
            { txt: 'viewClinicaCnpj', input: 'editCnpj', chave: 'cnpj' },
            { txt: 'viewClinicaEnd', input: 'editEnd', chave: 'end' },
            { txt: 'viewClinicaBairro', input: 'editBairro', chave: 'bairro' },
            { txt: 'viewClinicaCidade', input: 'editCidade', chave: 'cidade' },
            { txt: 'viewClinicaUF', input: 'editUF', chave: 'uf' },
            { txt: 'viewClinicaCep', input: 'editCep', chave: 'cep' }
        ];

        window.onload = () => { carregarDados(); };

        function carregarDados() {
            const dados = JSON.parse(localStorage.getItem('dadosClinica')) || {};
            campos.forEach(item => {
                const valor = dados[item.chave] || (item.chave === 'nome' ? 'Clínica Fision+' : '---');
                document.getElementById(item.txt).innerText = valor;
            });
        }

        function toggleEdicaoPerfil() {
            modoEdicao = !modoEdicao;
            const btn = document.getElementById('btnAcaoPerfil');
            if (modoEdicao) {
                campos.forEach(item => {
                    const txtEl = document.getElementById(item.txt);
                    const inputEl = document.getElementById(item.input);
                    inputEl.value = txtEl.innerText === '---' ? '' : txtEl.innerText;
                    txtEl.style.display = 'none';
                    inputEl.style.display = 'block';
                });
                btn.innerHTML = '<i class="fas fa-save"></i> Salvar Alterações';
                btn.style.background = '#27ae60';
            } else {
                const dados = JSON.parse(localStorage.getItem('dadosClinica')) || {};
                campos.forEach(item => {
                    const txtEl = document.getElementById(item.txt);
                    const inputEl = document.getElementById(item.input);
                    txtEl.innerText = inputEl.value || '---';
                    dados[item.chave] = inputEl.value;
                    txtEl.style.display = 'block';
                    inputEl.style.display = 'none';
                });
                localStorage.setItem('dadosClinica', JSON.stringify(dados));
                btn.innerHTML = '<i class="fas fa-edit"></i> Editar Perfil';
                btn.style.background = 'var(--verde-primario)';
                alert("Perfil atualizado com sucesso!");
            }
        }

        function abrirGoogleMaps() {
            const dados = JSON.parse(localStorage.getItem('dadosClinica')) || {};
            if(!dados.end) return alert("Por favor, preencha o endereço primeiro.");
            const enderecoCompleto = `${dados.end}, ${dados.bairro || ''}, ${dados.cidade || ''} - ${dados.uf || ''}`;
            const url = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(enderecoCompleto)}`;
            window.open(url, '_blank');
        }
    </script>
</body>
</html>